/**
 * inversify v.1.0.0 - A lightweight IoC container written in TypeScript.
 * Copyright (c) 2015 Remo H. Jansen <remo.jansen@wolksoftware.com> (http://www.remojansen.com/)
 * MIT inversify.io/LICENSE
 * http://inversify.io
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.inversify=t()}}(function(){return function t(e,n,r){function o(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};e[a][0].call(d.exports,function(t){var n=e[a][1][t];return o(n?n:t)},d,d.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){var r=function(){function t(t,e){this.key=t,this.value=e}return t}();n.Metadata=r},{}],2:[function(t,e,n){var r=t("./metadata"),o=function(){function t(t,e,n){this.name=t,this.type=e,this.metadata=new Array;var o=null;"string"==typeof n?o=new r.Metadata("named",n):n instanceof r.Metadata&&(o=n),null!==o&&this.metadata.push(o)}return t.prototype.isArray=function(){return-1!=this.type.indexOf("[]")},t.prototype.isNamed=function(){for(var t=0;t<this.metadata.length;t++){var e=this.metadata[t];if("named"===e.key)return!0}return!1},t.prototype.isTagged=function(){for(var t=0;t<this.metadata.length;t++){var e=this.metadata[t];if("named"!==e.key)return!0}return!1},t.prototype.matchesName=function(t){for(var e=0;e<this.metadata.length;e++){var n=this.metadata[e];if("named"===n.key&&n.value===t)return!0}return!1},t.prototype.matchesTag=function(t){for(var e=0;e<this.metadata.length;e++){var n=this.metadata[e];if(n.key===t.key&&n.value===t.value)return!0}return!1},t}();n.Target=o},{"./metadata":1}],3:[function(t,e,n){var r=t("./binding_scope_enum"),o=t("./binding_result_enum"),i=t("../activation/metadata"),a=function(){function t(t){this.runtimeIdentifier=t,this.cache=null,this.scope=r.BindingScopeEnum.Transient,this.resolveAs=o.BindingResultEnum.Instance,this.metadata=new Array}return t.prototype.to=function(t){return this.implementationType=t,this.resolveAs=o.BindingResultEnum.Instance,this},t.prototype.toValue=function(t){return this.value=t,this.resolveAs=o.BindingResultEnum.Value,this},t.prototype.toConstructor=function(t){return this.implementationType=t,this.resolveAs=o.BindingResultEnum.Constructor,this},t.prototype.toFactory=function(t){return this.implementationType=t,this.resolveAs=o.BindingResultEnum.Factory,this},t.prototype.toPromise=function(t){return this.implementationType=t,this.resolveAs=o.BindingResultEnum.Promise,this},t.prototype.named=function(t){var e=new i.Metadata("named",t);return this.metadata.push(e),this},t.prototype.withMetadata=function(t,e){var n=new i.Metadata(t,e);return this.metadata.push(n),this},t.prototype.withConstructorArgument=function(t,e){return this},t.prototype.withPropertyValue=function(t,e){return this},t.prototype.withParameter=function(){return this},t.prototype.when=function(t){return this.whenConstraint=t,this},t.prototype.whenInjectedInto=function(t){return this.whenConstraint=function(t){return!1},this},t.prototype.whenInjectedExactlyInto=function(t){return this.whenConstraint=function(t){return!1},this},t.prototype.whenParentNamed=function(t){return this.whenConstraint=function(t){return!1},this},t.prototype.whenAnyAnchestorNamed=function(t){return this.whenConstraint=function(t){return!1},this},t.prototype.whenNoAnchestorNamed=function(t){return this.whenConstraint=function(t){return!1},this},t.prototype.whenAnyAnchestorMatches=function(t){return this.whenConstraint=function(t){return!1},this},t.prototype.whenNoAnchestorMatches=function(t){return this.whenConstraint=function(t){return!1},this},t.prototype.onActivation=function(t){return this.onActivationCallback=t,this},t.prototype.onDeactivation=function(t){return this.onDeactivationCallback=t,this},t.prototype.inTransientScope=function(){return this.scope=r.BindingScopeEnum.Transient,this},t.prototype.inSingletonScope=function(){return this.scope=r.BindingScopeEnum.Singleton,this},t}();n.Binding=a},{"../activation/metadata":1,"./binding_result_enum":4,"./binding_scope_enum":5}],4:[function(t,e,n){var r;!function(t){t[t.Instance=0]="Instance",t[t.Value=1]="Value",t[t.Constructor=2]="Constructor",t[t.Factory=3]="Factory",t[t.Promise=4]="Promise"}(r||(r={})),n.BindingResultEnum=r},{}],5:[function(t,e,n){var r;!function(t){t[t.Transient=0]="Transient",t[t.Singleton=1]="Singleton"}(r||(r={})),n.BindingScopeEnum=r},{}],6:[function(t,e,n){var r=function(){function t(){}return t.prototype.getParanNames=function(t){var e,n,r,o,i,a;return i=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,a=/([^\s,]+)/g,e=t.toString().replace(i,""),n=e.indexOf("(")+1,r=e.indexOf(")"),o="function"==typeof Map&&-1!==e.indexOf("class")&&-1===e.indexOf("constructor")?null:e.slice(n,r).match(a),Array.isArray(o)===!1&&(o=[]),o},t.prototype.tagParameter=function(t,e,n,r){var o="inversify:tagged",i=null;if(void 0!==e){var a="The @tagged and @named decorator must be applied to the parameters of a constructor.";throw new Error(a)}i=Reflect.hasOwnMetadata(o,t)!==!0?{}:Reflect.getMetadata(o,t);var u=i[n.toString()];if(Array.isArray(u)!==!0)u=[];else for(var s=0;s<u.length;s++){var c=u[s];if(c.key===r.key)throw new Error("Metadadata key "+c.key+" was used more than once in a parameter.")}return u.push(r),i[n.toString()]=u,Reflect.defineMetadata(o,i,t),t},t.prototype._decorate=function(t,e){Reflect.decorate(t,e)},t.prototype._param=function(t,e){return function(n,r){e(n,r,t)}},t.prototype.decorate=function(t,e,n){return"number"==typeof n?this._decorate([this._param(n,t)],e):this._decorate([t],e)},t}(),o=new r;n.decoratorUtils=o},{}],7:[function(t,e,n){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){var n="inversify:inject",r=new Array,a=i.decoratorUtils.getParanNames(e);if(Reflect.hasOwnMetadata(n,e)===!0)throw new Error("Cannot apply @inject decorator multiple times.");if(a.length!==t.length)throw new Error("The number of types to be injected do not match the number of constructor arguments.");for(var u=Reflect.getMetadata("inversify:tagged",e),s=0;s<a.length;s++){var c=new o.Target(a[s],t[s]);if("object"==typeof u){var d=u[s.toString()];Array.isArray(d)===!0&&(c.metadata=d)}r.push(c)}return Reflect.defineMetadata(n,r,e),Reflect.deleteMetadata("inversify:tagged",e),e}}var o=t("../activation/target"),i=t("./decorator_utils");n.inject=r},{"../activation/target":2,"./decorator_utils":6}],8:[function(t,e,n){function r(t){return function(e,n,r){var a=new o.Metadata("named",t);return i.decoratorUtils.tagParameter(e,n,r,a)}}var o=t("../activation/metadata"),i=t("./decorator_utils");n.named=r},{"../activation/metadata":1,"./decorator_utils":6}],9:[function(t,e,n){function r(t,e){return function(n,r,a){var u=new o.Metadata(t,e);return i.decoratorUtils.tagParameter(n,r,a,u)}}var o=t("../activation/metadata"),i=t("./decorator_utils");n.tagged=r},{"../activation/metadata":1,"./decorator_utils":6}],10:[function(t,e,n){var r=t("./kernel/kernel");n.Kernel=r.Kernel;var o=t("./binding/binding");n.Binding=o.Binding;var i=t("./decorators/inject_decorator");n.inject=i.inject;var a=t("./decorators/named_decorator");n.named=a.named;var u=t("./decorators/tagged_decorator");n.tagged=u.tagged;var s=t("./decorators/decorator_utils"),c=s.decoratorUtils.decorate;n.decorate=c},{"./binding/binding":3,"./decorators/decorator_utils":6,"./decorators/inject_decorator":7,"./decorators/named_decorator":8,"./decorators/tagged_decorator":9,"./kernel/kernel":11}],11:[function(t,e,n){var r=t("./lookup"),o=t("../activation/target"),i=t("./resolver"),a=function(){function t(){this._bindingDictionary=new r.Lookup,this._resolver=new i.Resolver}return t.prototype.bind=function(t){this._bindingDictionary.add(t.runtimeIdentifier,t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(e){throw new Error("Could not resolve service "+t)}},t.prototype.unbindAll=function(){this._bindingDictionary=new r.Lookup},t.prototype.resolve=function(t){var e=new o.Target(t,null,null);return this._resolve(e)},t.prototype.resolveNamed=function(t,e){var n=new o.Target(t,null,e);return this._resolve(n)},t.prototype.resolveWithMetadata=function(t,e){var n=new o.Target(t,null,e);return this._resolve(n)},t.prototype._resolve=function(t){return this._resolver.get(this._bindingDictionary,t)},t}();n.Kernel=a},{"../activation/target":2,"./lookup":12,"./resolver":13}],12:[function(t,e,n){var r=function(){function t(t,e){this.key=t,this.value=new Array,this.value.push(e)}return t}(),o=function(){function t(){this._hashMap=new Array}return t.prototype.getIndexByKey=function(t){for(var e=-1,n=0;n<this._hashMap.length;n++){var r=this._hashMap[n];r.key===t&&(e=n)}return e},t.prototype.add=function(t,e){if(null===t||void 0===t)throw new Error("Argument Null");if(null===e||void 0===e)throw new Error("Argument Null");var n=this.getIndexByKey(t);if(-1!==n){var o=this._hashMap[n];o.key===t&&o.value.push(e)}else this._hashMap.push(new r(t,e))},t.prototype.get=function(t){if(null===t||void 0===t)throw new Error("Argument Null");var e=this.getIndexByKey(t);if(-1===e)throw new Error("Key Not Found");var n=this._hashMap[e];return n.key===t?n.value:void 0},t.prototype.remove=function(t){if(null===t||void 0===t)throw new Error("Argument Null");var e=this.getIndexByKey(t);if(-1===e)throw new Error("Key Not Found");this._hashMap.splice(e,1)},t.prototype.hasKey=function(t){if(null===t||void 0===t)throw new Error("Argument Null");var e=this.getIndexByKey(t);return-1!==e?!0:!1},t}();n.Lookup=o},{}],13:[function(t,e,n){var r=t("../binding/binding_scope_enum"),o=t("../decorators/decorator_utils"),i=function(){function t(){}return t.prototype.hasDependencies=function(t){return 0!==o.decoratorUtils.getParanNames(t).length},t.prototype.getMetadata=function(t){var e="inversify:inject",n=Reflect.getMetadata(e,t);return n},t.prototype.injectDependencies=function(t,e){var n=this.hasDependencies(e);if(n===!1)return new e;for(var r=[],o=null,i=this.getMetadata(e),a=0;a<i.length;a++)o=this.get(t,i[a]),r.push(o);return this.construct(e,r)},t.prototype.construct=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(e)))},t.prototype.get=function(t,e){var n;if(!t.hasKey(e.type))return null;if(n=t.get(e.type),n.length>0)e.isArray()||e.isNamed()||e.isTagged();else var o=n[0];if(o.scope===r.BindingScopeEnum.Singleton&&null!==o.cache)return o.cache;var i=this.injectDependencies(t,o.implementationType);return o.cache=i,i},t}();n.Resolver=i},{"../binding/binding_scope_enum":5,"../decorators/decorator_utils":6}]},{},[10])(10)});